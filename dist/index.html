<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <script type="module" src="browser/main.js"></script>
    <title>BlockChain Web Cide Project</title>
</head>
<body>
    
    <main>
        <h1>BlockChain Web Cide Project</h1>    
        <h2>SIAT FULLSTACK EDUCATION PARK JI WOO</h2>
        <h2>This Web Page is Pratice what I do get basic Block-Chain aknowledge and JavaScript Skills.</h2>
    
        <aside>
            <p id = "status"> Initalizing the blockchain, creating the genesis block</p>
        </aside>

        <sections>
            <h2>Add Transcation</h2>
            <form>
                <input id="sender"      type="text"     autocomplete="off" disabled placeholder="Sender"><span>-></span>
                <input id="recipient"   type="text"     autocomplete="off" disabled placeholder="Recipient">
                <input id="amount"      type="number"   autocomplete="off" disabled placeholder="Amount">
                <button id="transfer"   type="button"   class="ripple"      disabled>TRANSFER MONEY</button>
            </form>
        </sections>

        <section>
            <h2>Pending Transcations</h2>
            <pre id="Pending-transactions">No pending Transcations at the Moment.</pre>
            <button id="confirm" type="button" class="ripple" disabled>CONFIRM TRANSACTIONS</button>
            <div class="clear"></div>
        </section>
        
        <section>
            <h2><strong>BLOCKCHAIN STATE</strong></h2>
        
            <form>
                <div class="wrapper">
                    <div id="blocks"></div>
                    <div id="overlay"></div>
                </div>
            </form>
        </section>
    
    
    <!-- ************************* -->
    <!-- ************************* -->
    <!-- C언어 WASM TEST CODE SPACE -->
    <sections>
        <form>
            <h2>C AddREsult Function Test Space</h2>
            <div id="textcontent"></div>
            <input type=number size=20 id="numA"> + <input type=number size=20 id="numB">
            <button class="mybutton">Run myFunction</button>
        </form>
    </sections>
    <!-- C언어 WASM TEST CODE SPACE-->
    <!-- ************************* -->
    <!-- ************************* -->



    <!-- ************************* -->
    <!-- ************************* -->
    <!-- C언어 WASM TEST CODE SPACE-->
    <script type="text/javascript">
            //var a = document.getElementById("numA").value;
            //var b = document.getElementById("numB").value;
           
            document.querySelector('.mybutton').addEventListener('click', function() {
                
                let AddResult;
                fetch("../../dist/lib/C_WASM/add.wasm")
                .then(bytes => bytes.arrayBuffer())
                .then(mod => WebAssembly.compile(mod))
                .then(module => { return new WebAssembly.Instance(module)})
                .then(Instance => {
                    AddResult = Instance.exports.AddResult(numA.value, numB.value);
                    console.log("The AddResult = " + AddResult);
                    alert(AddResult);
                    document.getElementById("textcontent") = "The AddResult = " + AddResult;
                });
            });
    </script>
    <!-- C언어 WASM TEST CODE SPACE-->
    <!-- ************************* -->
    <!-- ************************* -->
    </main>
</body>
</html>