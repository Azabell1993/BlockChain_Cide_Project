<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BlockChain Web Cide Project</title>
</head>
<body>
    <!-- C언어 WASM TEST CODE SPACE -->
    <input type=number size=20 id="numA"> + <input type=number size=20 id="numB">
    <button class="mybutton">Run myFunction</button>
    <!-- C언어 WASM TEST CODE SPACE-->
















    <!-- C언어 WASM TEST CODE SPACE-->
    <script type="text/javascript">
        //var a = document.getElementById("numA").value;
        //var b = document.getElementById("numB").value;

        document.querySelector('.mybutton').addEventListener('click', function() {

        let AddResult;
        fetch("../lib/C_WASM/add.wasm")
            .then(bytes => bytes.arrayBuffer())
            .then(mod => WebAssembly.compile(mod))
            .then(module => { return new WebAssembly.Instance(module)})
            .then(Instance => {
                AddResult = Instance.exports.AddResult(numA.value, numB.value);
                console.log("The AddResult = " + AddResult);
                document.getElementById("textcontent").innerHTML = "The AddResult = " + AddResult;
                alert(AddResult);
            });
        });
    </script>
    <!-- C언어 WASM TEST CODE SPACE-->
</body>
</html>